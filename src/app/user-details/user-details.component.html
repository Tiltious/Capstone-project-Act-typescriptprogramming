<div class="mb-3 bg-dark" id="mainbarheader">
    <h2>Employee Details</h2>
</div>

<div class="container">

    <div class="row justify-content-center">

    <div class="card col-6 px-0 mr-3" id="devcard">
        <div class="card-header  text-white bg-dark">
            <h4 class="font-weight-bold ">{{myemployees.name}}'s Devices</h4>
        </div>
        <div class="card-body">
            <div [hidden]="!devupdate.updatetoggle" id="devupdate">
                <app-devupdate #devupdate></app-devupdate>
            </div>
            <div [hidden]="deventry.toggle" class="" id="devform">
                <app-deventryform #deventry [emp]="myemployees"></app-deventryform>
            </div>
            <ul class="list-group">
                <li *ngFor="let b of back" class="list-group-item text-center">
                    {{deventry.mydevices[b].description}}--{{deventry.mydevices[b].type}} <br>
                    <div *ngIf="btntoogle" class="btn-group">
                        <button (click)="sendDevice(deventry.mydevices[b]);devupdate.updatetoggle=!devupdate.updatetoggle" class="btn btn-primary btn-sm">Update</button>
                        <button (click)="sendDevice(deventry.mydevices[b])" data-toggle="modal" data-target="#devsafetyalert"  class="btn btn-danger btn-sm">Delete</button>
                    </div>
                </li>
            </ul>
        </div>

        <!--Delete device - Confirmation modal-->

        <div class="modal" id="devsafetyalert">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header justify-content-center">
                        <h4>Removing {{myemployees.name}}'s device?</h4>    
                    </div>
                    <div class="modal-body">
                        <p>This action is not reversable. Do you want to continue?</p>
                    </div>   
                    <div class="modal-footer">
                        <div class="btn-group">
                            <button data-toggle="modal" data-target="#refmodal" (click)="devupdate.deleteDevice(devupdate.mydev.id);deltoggle=!deltoggle" class="btn btn-danger">Yes</button>
                            <button data-dismiss="modal" class="btn btn-dark">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-group card-footer bg-dark">
            <button class="btn btn-success" (click)="deventry.toggledevform()">Add New Device</button>
            <button (click)="btntoogle=!btntoogle" class="btn btn-primary">Edit Device</button>
        </div>
    </div>

    
    <div class="card col-5 px-0 ml-3" style="height: fit-content;" id="empcard">
        <div class="card-header bg-dark">
            <h4 class="card-title font-weight-bold text-white">{{myemployees.name}} Details</h4> 
        </div>  
        <div class="card-body">
            <div [hidden]="empentry.toggle" class="" id="empform">
                <app-empentryform #empentry></app-empentryform>
            </div>
            <!-- Refresh page - Modal-->
            <div class="modal" id="refmodal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header justify-content-center">
                            <h4>www</h4>    
                        </div>
                        <div class="modal-body">
                            <p>aaa</p>
                        </div>   
                        <div class="modal-footer">
                            <div class="btn-group">
                                <a href="#" class="btn btn-danger">Refresh</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <ul class="list-group">
                <li class="list-group-item">{{myemployees.emp_id}}</li>
                <li class="list-group-item">{{myemployees.name}}</li>
                <li class="list-group-item">{{myemployees.email}}</li>
            </ul>
        </div>

        <!--Delete employee - Confirmation modal-->

        <div class="modal" id="safetyalerta">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header justify-content-center">
                        <h4>Delete {{myemployees.name}}?</h4>    
                    </div>
                    <div class="modal-body">
                        <p>This action is not reversable. Do you want to continue?</p>
                    </div>   
                    <div class="modal-footer">
                        <div class="btn-group">
                            <button data-toggle="modal" data-target="#refmodal" (click)="empentry.deleteEmployee(empentry.myemp.id)" class="btn btn-danger">Yes</button>
                            <button data-dismiss="modal" class="btn btn-secondary">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="card-footer bg-dark">            
            <ul class="list-group">
                <div class="btn-group">
                    <button (click)="empentry.toggledevform()"class="btn btn-primary">Update</button>
                    <button  data-toggle="modal" data-target="#safetyalerta"  class="btn btn-danger">Delete</button>
                </div>                
            </ul>
        </div>
    </div>

    
   
    
    </div>

</div>


